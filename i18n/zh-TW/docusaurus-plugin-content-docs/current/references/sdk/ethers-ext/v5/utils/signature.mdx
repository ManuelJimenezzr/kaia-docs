# Signature

將簽名從對象轉換為元組格式，壓縮簽名。

<CH.Spotlight>
  <CH.Code>
    ```js signatureUtils.js
    const { getSignatureTuple } = require('@kaiachain/ethers-ext/v5')

    async function main() {
      console.log(
        'signature from { v, r, s } object =',
        getSignatureTuple({
          v: 27,
          r: '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
          s: '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508',
        })
      )
      console.log(
        'signature from compact 65 bytes =',
        getSignatureTuple(
          '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b9975c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c5081b'
        )
      )
    }

    main()
    ```

    ---

    ```zsh output
    ❯ node signatureUtils.js
    signature from { v, r, s } object = [
      '0x1b',
      '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
      '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508'
    ]
    signature from compact 65 bytes = [
      '0x1b',
      '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
      '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508'
    ]
    ```
  </CH.Code>

  ---

  從 **@kaiachain/ethers-ext** 軟件包中導入 **getSignatureTuple**

  ```js signatureUtils.js focus=1
  ```

  ---

  要將公鑰從`{r, s, v}`格式壓縮為元組格式，請使用 `getSignatureTuple` 並將**簽名對象**作為參數

  <CH.Code>
    ```js signatureUtils.js focus=4:11
    const { getSignatureTuple } = require('@kaiachain/ethers-ext/v5')

    async function main() {
      console.log(
        'signature from { v, r, s } object =',
        getSignatureTuple({
          v: 27,
          r: '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
          s: '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508',
        })
      )
    }

    main()
    ```

    ---

    ```zsh output
    ❯ node signatureUtils.js
    signature from { v, r, s } object = [
      '0x1b',
      '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
      '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508'
    ]
    ```
  </CH.Code>

  ---

  要將公鑰從緊湊的 65 字節格式壓縮成元組，請使用 `getSignatureTuple` 並將**緊湊簽名**作為參數

  <CH.Code>
    ```js signatureUtils.js focus=4:9
    const { getSignatureTuple } = require('@kaiachain/ethers-ext/v5')

    async function main() {
      console.log(
        'signature from compact 65 bytes =',
        getSignatureTuple(
          '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b9975c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c5081b'
        )
      )
    }

    main()
    ```

    ---

    ```zsh output
    ❯ node signatureUtils.js
    signature from compact 65 bytes = [
      '0x1b',
      '0x66809fb130a6ea4ae4e823baa92573a5f1bfb4e88e64048aecfb18a2b4012b99',
      '0x75c2c3e5f7b0a182c767137c488649cd5104a5e747371fd922d618e328e5c508'
    ]
    ```
  </CH.Code>
</CH.Spotlight>

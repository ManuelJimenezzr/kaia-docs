# 住所

公開アドレス、公開鍵の変換ユーティリティ。

<CH.Spotlight>
  <CH.Code>
    ```py address_utils.py
    from eth_account import Account
    from web3py_ext.klaytn_account.utils import compressed_key_from_xy, address_from_private_key, compressed_key, \
        compressed_key_and_address_from_xy


    def main():
        private_key=Account.from_key("0x0e4ca6d38096ad99324de0dde108587e5d7c600165ae4cd6c2462c597458c2b8")
        print("Public key from private key",address_from_private_key(private_key))
        print("Compress key from private key",compressed_key(private_key))

        x = "0xdc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd"
        y = "0xaf06ca34ae8714cf3dae06bacdb78c7c2d4054bd38961d40853cd5f15955da79"
        print("Compress public key from x,y", compressed_key_from_xy(x, y))
        print("Compress public key and address from x,y", compressed_key_and_address_from_xy(x, y))

    main()
    ```

    ---

    ```zsh output
    ❯ python address_utils.py
    Public key from private key 0xa2a8854b1802d8cd5de631e690817c253d6a9153
    Compress key from private key 0x03dc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd
    Compress key from x,y 03dc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd
    Compress key and address from x,y ('0x03dc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd', '0xA2a8854b1802D8Cd5De631E690817c253d6a9153')

    ```
  </CH.Code>

  ---

  **getCompressedPublicKey**を**kaiachain/ethers-ext**パッケージからインポートする。

  ```py address_utils.py focus=1:3
  ```

  ---

  アカウント`オブジェクトから、`address_from_private_key`で**公開アドレス**を、`compressed_key\`で**圧縮された公開鍵**を取得することができる。

  <CH.Code>
    ```py address_utils.py focus=7:9
    ```

    ---

    ```zsh output
    ❯ python address_utils.py
    pubkey from { x, y } object = 0x03dc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd
    ```
  </CH.Code>

  ---

  非圧縮公開鍵の `x` と `y` 座標から、`compressed_key_from_xy` と `compressed_key_and_address_from_xy` を使って公開鍵とアドレスを得ることができる。

  <CH.Code>
    ```py address_utils.py focus=11:14
    ```

    ---

    ```zsh output
    ❯ python address_utils.py
    Public key from private key 0xa2a8854b1802d8cd5de631e690817c253d6a9153
    Compress key from private key 0x03dc9dccbd788c00fa98f7f4082f2f714e799bc0c29d63f04d48b54fe6250453cd
    ```
  </CH.Code>
</CH.Spotlight>

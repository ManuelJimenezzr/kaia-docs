# v1.5.0

## 软件包下载

### 转速<a id="rpm"></a>

赛普拉斯套餐

- [kcnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kcnd-v1.5.0-0.el7.x86_64.rpm)
- [kpnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kpnd-v1.5.0-0.el7.x86_64.rpm)
- [kend-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kend-v1.5.0-0.el7.x86_64.rpm)

猴面包树套餐

- [kcnd-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kcnd-baobab-v1.5.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kpnd-baobab-v1.5.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kend-baobab-v1.5.0-0.el7.x86_64.rpm)

通用软件包

- [kscnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kscnd-v1.5.0-0.el7.x86_64.rpm)
- [kspnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kspnd-v1.5.0-0.el7.x86_64.rpm)
- [ksend-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/ksend-v1.5.0-0.el7.x86_64.rpm)
- [kbnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kbnd-v1.5.0-0.el7.x86_64.rpm)
- [kgen-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0.el7.x86_64.rpm)
- [homi-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0.el7.x86_64.rpm)

### 利纳克斯<a id="linux"></a>

赛普拉斯套餐

- [kcn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-v1.5.0-0-linux-amd64.tar.gz)
- [kpn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-v1.5.0-0-linux-amd64.tar.gz)
- [ken-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-v1.5.0-0-linux-amd64.tar.gz)

猴面包树套餐

- [kcn-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-baobab-v1.5.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-baobab-v1.5.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-baobab-v1.5.0-0-linux-amd64.tar.gz)

通用软件包

- [kscn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kscn-v1.5.0-0-linux-amd64.tar.gz)
- [kspn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kspn-v1.5.0-0-linux-amd64.tar.gz)
- [ksen-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ksen-v1.5.0-0-linux-amd64.tar.gz)
- [kbn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kbn-v1.5.0-0-linux-amd64.tar.gz)
- [kgen-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0-linux-amd64.tar.gz)
- [homi-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0-linux-amd64.tar.gz)

### MacOS<a id="macos"></a>

赛普拉斯套餐

- [kcn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-v1.5.0-0-darwin-10.10-amd64.tar.gz)

猴面包树套餐

- [kcn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)

通用软件包

- [kscn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kscn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kspn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ksen-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kbn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0-darwin-10.10-amd64.tar.gz)

### 视窗<a id="windows"></a>

- 尚未支持

## Klaytn v1.5.0 发布说明

### 新功能<a id="new-features"></a>

- 国家移民 (https://github.com/klaytn/klaytn/pull/507)
  - 新增 JSON-RPC 应用程序接口，删除不必要的旧状态/存储三角，为 Klaytn 节点（赛普拉斯）节省 75% 的存储空间（800 GB -> 200 GB）
    - admin.startStateMigration()
    - admin.stopStateMigration()
    - admin.stateMigrationStatus
  - Klaytn 节点目前需要约 1TB 的存储空间。 这种规模的存储对于高效的节点运行来说是一种负担，而国家迁移正是为了缓解这一问题而来。 状态迁移会移除陈旧的状态/存储三角节点，这些节点对于新区块的生成和验证是不必要的。 在开始状态迁移之前，"stakingInfo "会保存在数据库中，以便在状态迁移后获得没有阶跃状态的 "stakingInfo"。

- 预热三节点缓存 (https://github.com/klaytn/klaytn/pull/548)
  - 新的 JSON-RPC 应用程序接口可通过迭代最新状态 trie 并将其缓存起来，从而加快区块处理速度
    - debug.startWarmUp()
    - debug.stopWarmUp()
  - 在此之前，Klaytn 节点由于未缓存状态三节点，必须不断访问数据库才能处理区块，这导致了区块处理的延迟。 引入的 "预热 "功能通过迭代最后一个状态三元组并将其缓存起来，减少了这种延迟。

- 从字符串导入块 (https://github.com/klaytn/klaytn/pull/516)
  - 只有通过文件才能导入图块。 在某些情况下，需要从字符串中导入数据块。
  - 新的 JSON-RPC 应用程序接口
    - admin.importChainFromString()

- Fastcache (https://github.com/klaytn/klaytn/pull/490)
  - 与 Bigcache 相比，Fastcache 作为 trie 节点缓存，可自动调整缓存大小，减少内存消耗

### 改进<a id='improvements'></a>

- 参数化 triesInMemory 和 maxRequestContentLength (https://github.com/klaytn/klaytn/pull/555, https://github.com/klaytn/klaytn/pull/564)
- 在 TraceBlock 中使用缓存状态数据库 (https://github.com/klaytn/klaytn/pull/546)
- 改进共识逻辑
  - 添加单元测试代码 (https://github.com/klaytn/klaytn/pull/487, https://github.com/klaytn/klaytn/pull/492)
  - 重构 `SubList`/`SubListWithProposer` (https://github.com/klaytn/klaytn/pull/551)
  - 如果验证者不在委员会中，则防止其发送共识信息 (https://github.com/klaytn/klaytn/pull/549)
  - 伊斯坦布尔消息处理程序现在可检查发件人是否为委员会成员 (https://github.com/klaytn/klaytn/pull/545)
- 当节点停止时，防止 `commit` 两次 (https://github.com/klaytn/klaytn/pull/530)
- Refactors staking manager (https://github.com/klaytn/klaytn/pull/515)
- 构建并发布公共 docker 映像 (https://github.com/klaytn/klaytn/pull/491)
- 改进跟踪 API
  - 将 `txHash` 添加到 `txTraceResult` 中 (https://github.com/klaytn/klaytn/pull/488)
  - tracer`现在支持`CREATE2\` (https://github.com/klaytn/klaytn/pull/489)
  - tracer "现在可报告事务还原信息 (https://github.com/klaytn/klaytn/pull/484)
- 允许 DNS 地址字符串以数字字符开头，以便对 URL 进行编码 (https://github.com/klaytn/klaytn/pull/482)
- 删除供应商目录 (https://github.com/klaytn/klaytn/pull/498)

### 修复<a id='fixes'></a>

- 重组区块链模块的停止顺序 (https://github.com/klaytn/klaytn/pull/535)
- 修正了 `computeStateDB` 不计算不存在的区块编号 (https://github.com/klaytn/klaytn/pull/483)
- 防止通过 admin.exportChain 覆盖文件 (https://github.com/klaytn/klaytn/pull/480)
